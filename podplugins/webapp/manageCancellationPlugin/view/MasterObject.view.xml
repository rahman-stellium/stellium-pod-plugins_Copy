<mvc:View id="idMasterObjectView"
    controllerName="stellium.ext.podplugins.manageCancellationPlugin.controller.MasterObject" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns:core="sap.ui.core"
    xmlns:uxap="sap.uxap"
    xmlns:l="sap.ui.layout"
    xmlns="sap.m"
    width="100%" 
    height="100%">
    <uxap:ObjectPageLayout id="idMasterObjectPage" 
        upperCaseAnchorBar="false" 
        useIconTabBar="true"
        headerContentPinnable="false"
        alwaysShowContentHeader="true"
        navigate=".onNavigate">
        <uxap:headerTitle>
            <uxap:ObjectPageDynamicHeaderTitle >
                <uxap:breadcrumbs>
                    <Breadcrumbs>
                        <Link text="Orders" press="goOrders"/>
                        <currentLocation>
                            <Link text="{entity>/shopOrder}"/>
                        </currentLocation>
                    </Breadcrumbs>
                </uxap:breadcrumbs>
                <uxap:actions>
                    <Button id="headerRefresh" text="Refresh" press='.onRefreshBtnPress'/>
                </uxap:actions> 
            </uxap:ObjectPageDynamicHeaderTitle>
        </uxap:headerTitle>
        <uxap:headerContent>
			<uxap:ObjectPageDynamicHeaderContent>
                <l:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectAttribute title="Material"/>
                    <Text text='{entity>/material}'/>
                </l:VerticalLayout>
                <l:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectAttribute title="Material Description"/>
                    <Text text='{entity>/materialDescription}'/>
                </l:VerticalLayout>
                <l:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectAttribute title="SFC"/>
                    <Text text='{entity>/sfc}'/>
                </l:VerticalLayout>
                <l:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectAttribute title="Planned Batch"/>
                    <Text text='{entity>/plannedBatch}'/>
                </l:VerticalLayout>
                <l:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectAttribute title="Execution Status"/>
                    <ObjectStatus text='{entity>/executionStatus}'/>
                </l:VerticalLayout>
            </uxap:ObjectPageDynamicHeaderContent>
		</uxap:headerContent>
        <uxap:sections>
            <uxap:ObjectPageSection id="actQtyConfirmations" titleUppercase="false">
                <uxap:ObjectPageSubSection titleUppercase="false" title="Confirmations">
                    <Table id="idConfirmationsTable" 
                        items="{
                            path: 'confirmationItems>/',
                            sorter: [{
                                path: 'operationActivity', 
                                descending: false
                            }, {
                                path: 'confirmationGroup', 
                                descending: false
                            }, {
                                path: 'confirmationCounter', 
                                descending: false
                            }]
                        }">
                        <columns>
                            <Column width='10%'>
                                <Text text="Operation / Description" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Confirmation Group" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Confirmation Counter" />
                            </Column>
                            <Column width='15%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Standard Value Targets" />
                            </Column>
                            <Column  width='15%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Standard Value Posted" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Posted By" width="auto" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Created On" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Cancellation Reason" />
                            </Column>
                            <Column width="7%">
                                <Text text="Status" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Order"/> 
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Yield Quantity" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Scrap Quantity" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Reason Code / Description" />
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Work Center" /> 
                            </Column>
                            <Column width='10%' minScreenWidth="Desktop" demandPopin="true">
                                <Text text="Resource"/> 
                            </Column>
                            <Column width='10%'>
                                <Text text="Actions"/>
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <ObjectIdentifier 
                                        title="{confirmationItems>operationActivity}"
                                        text="{confirmationItems>operationActivityDescription}" />
                                    <Text text="{confirmationItems>confirmationGroup}" />
                                    <Text text="{confirmationItems>confirmationCounter}" />
                                    <VBox items="{confirmationItems>parameters}">
                                        <HBox >
                                            <Label text="{confirmationItems>standardValue}: "/>
                                            <Text text="{confirmationItems>targetQuantity} {confirmationItems>targetUOM}"/>
                                        </HBox>
                                    </VBox>
                                    <VBox items="{confirmationItems>parameters}">
                                        <HBox >
                                            <Label text="{confirmationItems>standardValue}: "/>
                                            <Text text="{confirmationItems>inputValue} {confirmationItems>inputUom}"/>
                                        </HBox>
                                    </VBox>
                                    <Text text="{confirmationItems>postedBy}"/>
                                    <Text text="{
                                        path: 'confirmationItems>createdOn', 
                                        formatter: '.formatter.formatSingleDate'
                                    }" />
                                    <Text text="{confirmationItems>cancellationReason}" />
                                    <Text text="{
                                        path: 'confirmationItems>status', 
                                        formatter: '.formatter.formatExecutionStatus'
                                    }" />
                                    <Text text="{confirmationItems>shopOrder}"/>
                                    <Text text="{confirmationItems>yieldQuantity/value} {confirmationItems>yieldQuantity/unitOfMeasure/uom}"/>
                                    <Text text="{confirmationItems>scrapQuantity/value} {confirmationItems>scrapQuantity/unitOfMeasure/uom}"/>
                                    <Text text="{confirmationItems>reasonCode} / {activityConfirmationItem>reasonCodeDescription}" />
                                    <Text text="{confirmationItems>workCenter}" />
                                    <Text text="{confirmationItems>resource}" />
                                    <Button text="Cancel" press=".onCancelConfirmationPress">
                                        <customData>
                                            <core:CustomData key="cancelType" value='ActQtyCombined'/>
                                            <core:CustomData key="dataModelName" value='FINISH_GOOD'/>
                                        </customData>
                                    </Button>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </uxap:ObjectPageSubSection>
            </uxap:ObjectPageSection>
            <uxap:ObjectPageSection id="goodsIssue" titleUppercase="false">
                <uxap:ObjectPageSubSection titleUppercase="false" title="Goods Issue">
                    <Table id="goodsIssueTable">
                        <columns>
                            <Column><Text text="Inventory ID"/></Column>
                            <Column><Text text="Batch ID"/></Column>
                            <Column><Text text="HU Number"/></Column>
                            <Column><Text text="Warehouse Number"/></Column>
                            <Column><Text text="Status"/></Column>
                            <Column><Text text="Actions"/></Column>
                        </columns>
                        <items>
                            <ColumnListItem >
                                <Text text="testItem"/>
                                <Text text="testItem"/>
                                <Text text="testItem"/>
                                <Text text="testItem"/>
                                <Text text="testItem"/>
                                <Button text="Cancel"/>
                            </ColumnListItem>
                        </items>
                    </Table>
                </uxap:ObjectPageSubSection>
            </uxap:ObjectPageSection>
            <uxap:ObjectPageSection id="goodsReceiptSection" titleUppercase="false" title='Goods Receipt'>
                <uxap:subSections>
                    <uxap:ObjectPageSubSection titleUppercase="false" title="Finished Goods">
                        <uxap:blocks>
                            <core:Fragment 
                                fragmentName="stellium.ext.podplugins.manageCancellationPlugin.view.fragments.FinishGoodsTable" 
                                type="XML" />
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                    <uxap:ObjectPageSubSection titleUppercase="false" title="By-Products">
                        <uxap:blocks>
                            <core:Fragment 
                                fragmentName="stellium.ext.podplugins.manageCancellationPlugin.view.fragments.ByProductsTable" 
                                type="XML" />
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                    <uxap:ObjectPageSubSection titleUppercase="false" title="Co-Products">
                        <uxap:blocks>
                            <core:Fragment 
                                fragmentName="stellium.ext.podplugins.manageCancellationPlugin.view.fragments.CoProductsTable" 
                                type="XML" />
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
        </uxap:sections>
    </uxap:ObjectPageLayout>
</mvc:View> 